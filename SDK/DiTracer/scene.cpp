#include "scene.h"

Scene::Scene() {
	camera = new Camera();
}

//**************************************************************************************************************************
//**************************************************************************************************************************

Scene::~Scene() {
	if (camera) {
		delete camera;
		camera = NULL;
	}
}

//**************************************************************************************************************************
//**************************************************************************************************************************

Camera* Scene::getCamera() const {
	return camera;
}

//**************************************************************************************************************************
//**************************************************************************************************************************

void Scene::setCamera(Camera* camera) {
	this->camera = camera;
}

//**************************************************************************************************************************
//**************************************************************************************************************************

void Scene::setupCameraForRendering(RTcontext* context) {
	camera->setCamEye(DEFAULT_CAEMRA_EYE);
	camera->setLookAt(DEFAULT_CAMERA_LOOK_AT);
	camera->setUpVector(DEFAULT_CAMERA_UP_VECTOR);
	camera->setFov(DEFAULT_CAMERA_FOV);

	camera->computeAspectRatio();

	camera->prepareGPUVariables(context);
	camera->prepareGPUProgram(context);
}
